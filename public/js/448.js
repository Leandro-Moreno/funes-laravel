"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[448],{4448:(t,n,i)=>{i.r(n),i.d(n,{default:()=>r});var s=i(7757),e=i.n(s);function u(t,n,i,s,e,u,o){try{var r=t[u](o),a=r.value}catch(t){return void i(t)}r.done?n(a):Promise.resolve(a).then(s,e)}const o={mounted:function(){},prop:{},data:function(){return{counter:1,institucionales:[{value:"",results:[],query:""}]}},methods:{addinstitucion:function(){this.institucionales.push({value:"",results:[],query:""})},borrarUsuario:function(t){this.institucionales.splice(t,1)},move:function(t,n){this.institucionales.splice(n,0,this.institucionales.splice(t,1)[0])},buscarAutores:function(t){var n,i=this;return(n=e().mark((function n(){var s;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(t),i.institucionales[t].query=i.institucionales[t].value,s={query:i.institucionales[t].query},axios.get("/api/buscar-autor-institucional",{params:s}).then((function(n){i.institucionales[t].results=n.data})).catch((function(t){}));case 4:case"end":return n.stop()}}),n)})),function(){var t=this,i=arguments;return new Promise((function(s,e){var o=n.apply(t,i);function r(t){u(o,s,e,r,a,"next",t)}function a(t){u(o,s,e,r,a,"throw",t)}r(void 0)}))})()},elegirResultado:function(t,n){var i=n.searchable;this.institucionales[t].query="",this.institucionales[t].value=i.nombre,this.institucionales[t].results=[]},borrarCamposBusqueda:function(t){var n=this;setTimeout((function(){return n.institucionales[t].query=""}),500)}}};const r=(0,i(1900).Z)(o,(function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"card card-body"},[i("label",{staticClass:"card-title"},[t._v("Autores institucionales")]),t._v(" "),t._m(0),t._v(" "),t._l(t.institucionales,(function(n,s){return i("div",{key:"campos-"+s},[i("div",{staticClass:"row col-sm-12"},[i("b-form-input",{staticClass:"col-sm-10",attrs:{autocomplete:"off",name:"institucional-"+s,placeholder:""},on:{input:function(n){return t.buscarAutores(s)},blur:function(n){return t.borrarCamposBusqueda(s)}},model:{value:n.value,callback:function(i){t.$set(n,"value",i)},expression:"institucion.value"}}),t._v(" "),i("div",{staticClass:"col-sm-1"},[i("b-icon-arrow-up",{on:{click:function(n){return t.move(s,s-1)}}}),t._v(" "),i("b-icon-arrow-down",{on:{click:function(n){return t.move(s,s+1)}}})],1),t._v(" "),i("div",{staticClass:"col-sm-1"},[i("b-button",{attrs:{size:"sm"},on:{click:function(n){return t.borrarUsuario(s)}}},[i("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)],1)],1),t._v(" "),n.results.length>0&&n.query?i("ul",{attrs:{id:"results-"+s}},t._l(n.results.slice(0,10),(function(n){return i("li",{key:n.id,staticClass:"nav-item",on:{click:function(i){return t.elegirResultado(s,n)}}},[i("div",{staticClass:"dropdown-item",domProps:{textContent:t._s(n.title)}})])})),0):t._e()])})),t._v(" "),i("b-button",{on:{click:t.addinstitucion}},[t._v("Agregar Autores Institucionales")])],2)}),[function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"col-sm-12 row"},[i("div",{staticClass:"col-sm-4"},[i("p",[t._v("Autor")])])])}],!1,null,null,null).exports}}]);
//# sourceMappingURL=448.js.map