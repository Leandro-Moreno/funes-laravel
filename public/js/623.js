"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[623],{9623:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var o=r(5498);r(2953);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const n={name:"registro-crear",computed:i(i({},(0,r(629).Se)({registro:"getRegistro"})),{},{selected_type:{get:function(){return this.$store.getters.type},set:function(e){this.$store.dispatch("setType",e)}}}),mounted:function(){var e=this;axios.get("/registro-type").then((function(t){return e.registro_types=t.data})),console.log(this.registro_types),this.$refs.wizard.activateAll(),this.wizardSub="wiz sub"},components:{FormWizard:o.FormWizard,TabContent:o.TabContent},data:function(){return{registro_types:null,wizardSub:null}},props:{wizardTitle:{type:String,default:"Crear Registro"},wizardSubtitle:{type:String,default:"Prueba de titulos"},wizardbackButtonText:{type:String,default:"Atrás"},wizardfinishButtonText:{type:String,default:"Finalizar"},wizardnextButtonText:{type:String,default:"Siguiente"},stepSize:{type:String,default:"sm",validator:function(e){return-1!==["xs","sm","md","lg"].indexOf(e)}}},methods:{postRegistro:function(){var e=this;axios.post("/registro",{registro:this.registro}).then((function(t){e.$store.dispatch("setIds",t.data.registro),e.makeToast("success","Eprintid"+t.data.registro.eprintid,t.data.registro.route),window.location.href=t.data.route})).catch((function(e){console.log(e)}))},updateregistro:function(e){this.registro=e,this.wizardSub=e.eprintid},makeToast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.$bvToast.toast("El eprint ha sido creado exitosamente",{href:t,title:"Variant ".concat(e||"default"),variant:e,toaster:"b-toaster-top-right",solid:!0,autoHideDelay:"50000"})},updateUrlToEprintid:function(e){var t=window.location.href;t=t.replace("create",e+"/edit"),history.pushState(null,"",t),window.location.reload()}},watch:{$props:{handler:function(){},deep:!0,immediate:!0},"registro.eprintid":function(e,t){console.log(t,e),this.updateUrlToEprintid(e)}}};const d=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"card card--border"},[r("div",{staticClass:"card-body card--padding-0"},[r("form-wizard",{ref:"wizard",attrs:{"start-index":1,action:"#",title:e.wizardTitle,subtitle:e.wizardSub,backButtonText:e.wizardbackButtonText,finishButtonText:e.wizardfinishButtonText,nextButtonText:e.wizardnextButtonText,stepSize:e.stepSize,transition:"slide-fade",duration:"60",color:"#4b4898"},on:{"on-complete":e.postRegistro}},[r("tab-content",{attrs:{title:"Tipo de Documento"}},e._l(e.registro_types,(function(t,o){return r("div",{key:"type-"+o,attrs:{id:"v-model-radiobutton"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_type,expression:"selected_type"}],attrs:{type:"radio",id:t.name},domProps:{value:t.name,checked:e._q(e.selected_type,t.name)},on:{change:function(r){e.selected_type=t.name}}}),e._v(" "),r("label",{attrs:{for:t.name}},[e._v(e._s(t.label))]),e._v(" "),r("p",{attrs:{for:t.name}},[e._v(e._s(t.description))])])})),0),e._v(" "),r("tab-content",{attrs:{title:"Cargar"}},[r("cargar-archivo",{ref:"cargarArchivo",on:{updateregistro:e.updateregistro}})],1),e._v(" "),r("tab-content",{attrs:{title:"Detalles"}},["article"===e.selected_type?r("registro-type-article"):e._e(),e._v(" "),"book_section"===e.selected_type?r("registro-type-book-section"):e._e(),e._v(" "),"edited_book"===e.selected_type?r("registro-type-edited-book"):e._e(),e._v(" "),"book"===e.selected_type?r("registro-type-book"):e._e()],1),e._v(" "),r("tab-content",{attrs:{title:"Términos clave"}},[r("registro-tree",{ref:"subjects"})],1),e._v(" "),r("tab-content",{attrs:{title:"Depositar"}},[r("p",[e._v('Como editor de este elemento, puede moverlo al estado "en revisión" sin tener que\n                                    resolver los problemas indicados. En dado caso, seleccione Guardar para Más Adelante\n                                    para corregir estos problemas más tarde.')]),e._v(" "),r("p",[e._v("Para trabajos depositados por su propio autor: Al depositar la colección de archivos\n                                    y metadatos bibliográficos asociados a este registro, otorgo a Funes el derecho para\n                                    almacenarlos y ponerlos a disposición pública permanentemente de un modo gratuito y\n                                    en línea.")]),e._v(" "),r("p",[e._v("Declaro que este material es de mi propiedad intelectual y entiendo que Funes no\n                                    asume ninguna responsabilidad en caso de que se produzca una violación de derechos\n                                    de propiedad al distribuir estos archivos o metadatos. (Se insta a todos los autores\n                                    a destacar sus derechos de autor en la página de título del documento principal de\n                                    sus registros en Funes.)")]),e._v(" "),r("p",[e._v("Para trabajos depositados por personas distintas a su autor: Por la presente, declaro\n                                    que la colección de archivos y metadatos bibliográficos asociados al registro que\n                                    estoy depositando en Funes es de dominio público. Si éste no fuese el caso, acepto\n                                    totalmente la responsabilidad por cualquier infracción de derechos de autor que\n                                    conlleve la distribución de estos archivos o metadatos.")]),e._v(" "),r("p",[e._v("Pulsar en el botón de depósito indica que usted está de acuerdo con estos\n                                    términos.")])])],1)],1)])])])])}),[],!1,null,null,null).exports}}]);