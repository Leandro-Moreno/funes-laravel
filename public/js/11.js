"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[11],{4011:(t,i,n)=>{n.r(i),n.d(i,{default:()=>r});var s=n(7757),e=n.n(s);function o(t,i,n,s,e,o,u){try{var r=t[o](u),a=r.value}catch(t){return void n(t)}r.done?i(a):Promise.resolve(a).then(s,e)}const u={name:"registro-autores-institucionales",mounted:function(){},prop:{},data:function(){return{counter:1,institucionales:[{value:"",results:[],query:""}]}},methods:{addinstitucion:function(){this.institucionales.push({value:"",results:[],query:""})},borrarUsuario:function(t){this.institucionales.splice(t,1)},move:function(t,i){this.institucionales.splice(i,0,this.institucionales.splice(t,1)[0])},buscarAutores:function(t){var i,n=this;return(i=e().mark((function i(){var s;return e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:console.log(t),n.institucionales[t].query=n.institucionales[t].value,s={query:n.institucionales[t].query},axios.get("/api/buscar-autor-institucional",{params:s}).then((function(i){n.institucionales[t].results=i.data})).catch((function(t){}));case 4:case"end":return i.stop()}}),i)})),function(){var t=this,n=arguments;return new Promise((function(s,e){var u=i.apply(t,n);function r(t){o(u,s,e,r,a,"next",t)}function a(t){o(u,s,e,r,a,"throw",t)}r(void 0)}))})()},elegirResultado:function(t,i){var n=i.searchable;this.institucionales[t].query="",this.institucionales[t].value=n.nombre,this.institucionales[t].results=[]},borrarCamposBusqueda:function(t){var i=this;setTimeout((function(){return i.institucionales[t].query=""}),500)}}};const r=(0,n(1900).Z)(u,(function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"card card-body"},[n("label",{staticClass:"card-title"},[t._v("Autores institucionales")]),t._v(" "),t._m(0),t._v(" "),t._l(t.institucionales,(function(i,s){return n("div",{key:"campos-"+s},[n("div",{staticClass:"row col-sm-12"},[n("b-form-input",{staticClass:"col-sm-10",attrs:{autocomplete:"off",name:"institucional-"+s,placeholder:""},on:{input:function(i){return t.buscarAutores(s)},blur:function(i){return t.borrarCamposBusqueda(s)}},model:{value:i.value,callback:function(n){t.$set(i,"value",n)},expression:"institucion.value"}}),t._v(" "),n("div",{staticClass:"col-sm-1"},[n("b-icon-arrow-up",{on:{click:function(i){return t.move(s,s-1)}}}),t._v(" "),n("b-icon-arrow-down",{on:{click:function(i){return t.move(s,s+1)}}})],1),t._v(" "),n("div",{staticClass:"col-sm-1"},[n("b-button",{attrs:{size:"sm"},on:{click:function(i){return t.borrarUsuario(s)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)],1)],1),t._v(" "),i.results.length>0&&i.query?n("ul",{attrs:{id:"results-"+s}},t._l(i.results.slice(0,10),(function(i){return n("li",{key:i.id,staticClass:"nav-item",on:{click:function(n){return t.elegirResultado(s,i)}}},[n("div",{staticClass:"dropdown-item",domProps:{textContent:t._s(i.title)}})])})),0):t._e()])})),t._v(" "),n("b-button",{on:{click:t.addinstitucion}},[t._v("Agregar Autores Institucionales")])],2)}),[function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"col-sm-12 row"},[n("div",{staticClass:"col-sm-4"},[n("p",[t._v("Autor")])])])}],!1,null,null,null).exports}}]);