"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[647],{2647:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});var u=n(7757),s=n.n(u);function r(t,e,n,u,s,r,a){try{var i=t[r](a),o=i.value}catch(t){return void n(t)}i.done?e(o):Promise.resolve(o).then(u,s)}const a={mounted:function(){},props:{},data:function(){return{counter:1,inputs:[{valueNombre:"",valueApellido:"",valueMail:"",userId:"",results:[],query:""}],results:[]}},watch:{},computed:{},methods:{arrayDiff:function(t,e){for(var n=[],u=t.length>=e.length?t.length:e.length,s=0;s<u;s++)t[s].valueApellido==e[s].valueApellido&&t[s].valueMail==e[s].valueMail&&t[s].valueNombre==e[s].valueNombre||n.push(s);return n},elegirResultado:function(t,e){var n=e.searchable;this.inputs[t].query="",this.inputs[t].valueNombre=n.nombre,this.inputs[t].valueApellido=n.apellido,this.inputs[t].valueMail=n.email,this.inputs[t].userId=n.id,this.inputs[t].results=[]},onChange:function(t){this.buscarAutores(t)},addInput:function(){this.inputs.push({valueNombre:"",valueApellido:"",valueMail:"",results:[],query:"",userId:""})},borrarUsuario:function(t){this.inputs.splice(t,1)},move:function(t,e){this.inputs.splice(e,0,this.inputs.splice(t,1)[0])},buscarAutores:function(t){var e,n=this;return(e=s().mark((function e(){var u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.inputs[t].query=n.inputs[t].valueApellido+" "+n.inputs[t].valueNombre+" "+n.inputs[t].valueMail,u={query:n.inputs[t].query},axios.get("/api/buscar-autor",{params:u}).then((function(e){n.inputs[t].results=e.data})).catch((function(t){}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(u,s){var a=e.apply(t,n);function i(t){r(a,u,s,i,o,"next",t)}function o(t){r(a,u,s,i,o,"throw",t)}i(void 0)}))})()},borrarCamposBusqueda:function(t){var e=this;setTimeout((function(){return e.inputs[t].query=""}),500)}}};const i=(0,n(1900).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card card-body"},[n("label",{staticClass:"card-title"},[t._v("Autores")]),t._v(" "),t._m(0),t._v(" "),t._l(t.inputs,(function(e,u){return n("div",{key:"campos-"+u},[n("div",{staticClass:"row col-sm-12"},[n("b-form-input",{staticClass:"col-sm-3",attrs:{autocomplete:"off",name:"apellido-"+u,placeholder:""},on:{input:function(e){return t.onChange(u)},blur:function(e){return t.borrarCamposBusqueda(u)}},model:{value:e.valueApellido,callback:function(n){t.$set(e,"valueApellido",n)},expression:"input.valueApellido"}}),t._v(" "),n("b-form-input",{staticClass:"col-sm-4",attrs:{autocomplete:"off",name:"nombre-"+u,placeholder:""},on:{input:function(e){return t.onChange(u)},blur:function(e){return t.borrarCamposBusqueda(u)}},model:{value:e.valueNombre,callback:function(n){t.$set(e,"valueNombre",n)},expression:"input.valueNombre"}}),t._v(" "),n("b-form-input",{staticClass:"col-sm-3",attrs:{autocomplete:"off",name:"mail-"+u,placeholder:"",type:"email"},on:{input:function(e){return t.onChange(u)},blur:function(e){return t.borrarCamposBusqueda(u)}},model:{value:e.valueMail,callback:function(n){t.$set(e,"valueMail",n)},expression:"input.valueMail"}}),t._v(" "),n("div",{staticClass:"col-sm-1"},[n("b-icon-arrow-up",{on:{click:function(e){return t.move(u,u-1)}}}),t._v(" "),n("b-icon-arrow-down",{on:{click:function(e){return t.move(u,u+1)}}})],1),t._v(" "),n("div",{staticClass:"col-sm-1"},[n("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.borrarUsuario(u)}}},[n("b-icon",{attrs:{icon:"trash","aria-hidden":"true"}})],1)],1)],1),t._v(" "),e.results.length>0&&e.query?n("ul",{attrs:{id:"results-"+u}},t._l(e.results.slice(0,10),(function(e){return n("li",{key:e.id,staticClass:"nav-item",on:{click:function(n){return t.elegirResultado(u,e)}}},[n("div",{staticClass:"dropdown-item",domProps:{textContent:t._s(e.title)}})])})),0):t._e()])})),t._v(" "),n("b-button",{on:{click:t.addInput}},[t._v("Agregar Autores")])],2)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-sm-12 row"},[n("div",{staticClass:"col-sm-4"},[n("p",[t._v("Primer Apellido")])]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("p",[t._v("Nombres")])]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("p",[t._v("Email")])])])}],!1,null,null,null).exports}}]);
//# sourceMappingURL=647.js.map